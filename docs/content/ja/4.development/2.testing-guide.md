---
title: ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰
description: TDDåŸå‰‡ã¨ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
---

# ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰

## æ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€**ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰** ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚
å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«å¿œã˜ãŸé©åˆ‡ãªãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒ¢ãƒƒã‚¯æˆ¦ç•¥ã‚’å®šç¾©ã—ã€é«˜å“è³ªãªã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ç¶­æŒã—ã¾ã™ã€‚

---

## TDDï¼ˆTest-Driven Developmentï¼‰

### TDDã‚µã‚¤ã‚¯ãƒ«ï¼ˆRed-Green-Refactorï¼‰

```
1. ğŸ”´ Red: ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆå¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆï¼‰
   â†“
2. ğŸŸ¢ Green: æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ãƒ†ã‚¹ãƒˆã‚’é€šã™
   â†“
3. ğŸ”µ Refactor: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹ï¼ˆãƒ†ã‚¹ãƒˆã¯é€šã£ãŸã¾ã¾ï¼‰
   â†“
ï¼ˆç¹°ã‚Šè¿”ã—ï¼‰
```

### TDDåŸå‰‡

- âœ… **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å®Ÿè£…å‰ã«å¿…ãšãƒ†ã‚¹ãƒˆã‚’æ›¸ã
- âœ… **æœ€å°å®Ÿè£…**: ãƒ†ã‚¹ãƒˆã‚’é€šã™ãŸã‚ã®æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã®ã¿æ›¸ã
- âœ… **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: ãƒ†ã‚¹ãƒˆãŒé€šã£ãŸçŠ¶æ…‹ã§ã‚³ãƒ¼ãƒ‰å“è³ªã‚’æ”¹å–„
- âœ… **é«˜ã‚«ãƒãƒ¬ãƒƒã‚¸**: 90%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç›®æ¨™

### ãªãœTDDãªã®ã‹

**ãƒ¡ãƒªãƒƒãƒˆ**:
1. **è¨­è¨ˆã®æ”¹å–„**: ãƒ†ã‚¹ãƒˆå¯èƒ½ãªã‚³ãƒ¼ãƒ‰ã¯å¿…ç„¶çš„ã«ç–çµåˆã«ãªã‚‹
2. **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®å®‰å…¨æ€§**: ãƒ†ã‚¹ãƒˆãŒå£Šã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã—ãªãŒã‚‰æ”¹å–„ã§ãã‚‹
3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ãƒ†ã‚¹ãƒˆãŒä»•æ§˜æ›¸ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹
4. **ãƒã‚°ã®æ—©æœŸç™ºè¦‹**: å®Ÿè£…ç›´å¾Œã«ãƒã‚°ã‚’ç™ºè¦‹ã§ãã‚‹
5. **è‡ªä¿¡**: ãƒ†ã‚¹ãƒˆãŒã‚ã‚‹ã“ã¨ã§å®‰å¿ƒã—ã¦ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã§ãã‚‹

---

## å„å±¤ã®ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

### Coreå±¤ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆå¯¾è±¡**:
- Actionèª­ã¿è¾¼ã¿ãƒ­ã‚¸ãƒƒã‚¯
- Registryæ“ä½œ
- ãƒ‘ã‚¹è§£æ±º

**ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// tests/unit/core/loader.test.ts
import { describe, it, expect } from 'vitest'
import { loadActions } from '@/core/loader.js'

describe('loadActions', () => {
  it('should load valid action files', async () => {
    // ğŸ”´ Red: ã¾ãšãƒ†ã‚¹ãƒˆã‚’æ›¸ã
    const paths = ['/path/to/action.ts']
    const actions = await loadActions(paths)

    expect(actions).toHaveLength(1)
    expect(actions[0].meta.name).toBe('test-action')
  })

  it('should skip invalid files gracefully', async () => {
    const paths = ['/path/to/invalid.ts']
    const actions = await loadActions(paths)

    expect(actions).toHaveLength(0)
  })
})
```

**ç‰¹å¾´**:
- jitiã®ãƒ¢ãƒƒã‚¯ä¸è¦ï¼ˆå®Ÿãƒ•ã‚¡ã‚¤ãƒ«ã§å‹•ä½œç¢ºèªï¼‰
- ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ

---

### Domainå±¤ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆå¯¾è±¡**:
- å‹å®šç¾©ã®æ¤œè¨¼ï¼ˆTypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ï¼‰
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆç´”ç²‹é–¢æ•°ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// tests/unit/domain/action/defineAction.test.ts
import { describe, it, expect } from 'vitest'
import { defineAction } from '@/domain/action/defineAction.js'

describe('defineAction', () => {
  it('should create action with provided metadata', () => {
    const action = defineAction({
      name: 'test',
      description: 'Test action',
      category: 'test',
      run: async (ctx) => {},
    })

    expect(action.meta.name).toBe('test')
    expect(action.meta.description).toBe('Test action')
    expect(action.meta.category).toBe('test')
  })

  it('should derive name from filename if not provided', () => {
    // ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§ä»•æ§˜ã‚’æ˜ç¢ºåŒ–
    const action = defineAction({
      description: 'Test',
      run: async () => {},
    })

    expect(action.meta.name).toBeDefined()
  })
})
```

**ç‰¹å¾´**:
- ç´”ç²‹é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ
- å‰¯ä½œç”¨ãªã—
- ãƒ¢ãƒƒã‚¯ä¸è¦

---

### Infrastructureå±¤ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆå¯¾è±¡**:
- ãƒ•ã‚¡ã‚¤ãƒ«I/O
- å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº
- è¨­å®šèª­ã¿è¾¼ã¿/æ›¸ãè¾¼ã¿

**ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// tests/unit/infrastructure/config/loader.test.ts
import { describe, it, expect, beforeEach, afterEach } from 'vitest'
import { mkdtempSync, rmSync, writeFileSync } from 'node:fs'
import { join } from 'node:path'
import { tmpdir } from 'node:os'
import { loadLayeredConfig } from '@/infrastructure/config/loader.js'

describe('loadLayeredConfig', () => {
  let tempDir: string

  beforeEach(() => {
    // ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
    tempDir = mkdtempSync(join(tmpdir(), 'arere-test-'))
  })

  afterEach(() => {
    // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    rmSync(tempDir, { recursive: true, force: true })
  })

  it('should load and merge workspace and user configs', async () => {
    // ğŸ”´ Red: ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ
    const userConfig = { locale: 'en' }
    const workspaceConfig = { locale: 'ja' }

    writeFileSync(
      join(tempDir, 'user.json'),
      JSON.stringify(userConfig)
    )
    writeFileSync(
      join(tempDir, 'workspace.json'),
      JSON.stringify(workspaceConfig)
    )

    const config = await loadLayeredConfig()

    // Workspace ãŒ User ã‚ˆã‚Šå„ªå…ˆ
    expect(config.locale).toBe('ja')
  })
})
```

**ç‰¹å¾´**:
- ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ãƒ•ã‚¡ã‚¤ãƒ«I/Oãƒ†ã‚¹ãƒˆ
- `beforeEach` / `afterEach` ã§ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã¯ãƒ¢ãƒƒã‚¯å¯èƒ½

---

### Applicationå±¤ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆå¯¾è±¡**:
- ãƒ“ã‚¸ãƒã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- è¤‡æ•°å±¤ã®èª¿æ•´

**ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// tests/unit/application/ConfigService.test.ts
import { describe, it, expect, vi, beforeEach } from 'vitest'
import { ConfigService } from '@/application/services/ConfigService.js'

// Infrastructureå±¤ã‚’ãƒ¢ãƒƒã‚¯
vi.mock('@/infrastructure/config/partial-save.js', () => ({
  savePartialConfig: vi.fn(),
}))

vi.mock('@/infrastructure/i18n/index.js', () => ({
  changeLocale: vi.fn(),
}))

describe('ConfigService', () => {
  let service: ConfigService

  beforeEach(() => {
    service = new ConfigService()
    vi.clearAllMocks()
  })

  it('should change config and apply side effects', async () => {
    // ğŸ”´ Red: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
    const currentConfig = { locale: 'en' }

    const newConfig = await service.changeConfig(
      currentConfig,
      'locale',
      'ja',
      'workspace'
    )

    expect(newConfig.locale).toBe('ja')
    expect(changeLocale).toHaveBeenCalledWith('ja')
    expect(savePartialConfig).toHaveBeenCalledWith(
      'workspace',
      'locale',
      'ja'
    )
  })
})
```

**ç‰¹å¾´**:
- Infrastructureå±¤ã‚’ãƒ¢ãƒƒã‚¯
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã‚’ãƒ†ã‚¹ãƒˆ
- å‰¯ä½œç”¨ã®æ¤œè¨¼

---

### Presentationå±¤ã®ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆå¯¾è±¡**:
- UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
- çŠ¶æ…‹ç®¡ç†

**ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³**:
```typescript
// tests/unit/presentation/ui/ActionList.test.tsx
import { describe, it, expect, vi } from 'vitest'
import { render } from 'ink-testing-library'
import React from 'react'
import { ActionList } from '@/presentation/ui/components/action/ActionList.js'

// useInput ã®ãƒ¢ãƒƒã‚¯
let capturedHandler: ((input: string, key: any) => void) | null = null

vi.mock('ink', async () => {
  const actual = await vi.importActual('ink')
  return {
    ...actual,
    useInput: (handler: (input: string, key: any) => void) => {
      capturedHandler = handler
    },
  }
})

describe('ActionList', () => {
  it('should render action list', () => {
    const actions = [
      { meta: { name: 'test', description: 'Test action' } },
    ]

    const { lastFrame } = render(
      <ActionList actions={actions} selectedIndex={0} />
    )

    expect(lastFrame()).toContain('test')
    expect(lastFrame()).toContain('Test action')
  })

  it('should handle keyboard navigation', () => {
    const onSelect = vi.fn()
    const actions = [
      { meta: { name: 'action1' } },
      { meta: { name: 'action2' } },
    ]

    render(
      <ActionList
        actions={actions}
        selectedIndex={0}
        onSelect={onSelect}
      />
    )

    // â†“ã‚­ãƒ¼ã§ç§»å‹•
    capturedHandler?.('', { downArrow: true })

    // Enter ã‚­ãƒ¼ã§é¸æŠ
    capturedHandler?.('', { return: true })

    expect(onSelect).toHaveBeenCalledWith(actions[1])
  })
})
```

**ç‰¹å¾´**:
- `ink-testing-library` ä½¿ç”¨
- `useInput` ã®ãƒ¢ãƒƒã‚¯
- Applicationå±¤ã‚’ãƒ¢ãƒƒã‚¯
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

---

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm run test:watch

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ãå®Ÿè¡Œ
npm run test:coverage

# ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å®Ÿè¡Œ
npm test -- --run path/to/test.test.ts

# ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿè¡Œ
npm run bench
```

### CI/CDç’°å¢ƒ

```bash
# CIç”¨ï¼ˆ1å›ã ã‘å®Ÿè¡Œï¼‰
npm test -- --run

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npm run test:coverage -- --reporter=json --reporter=html
```

---

## ãƒ¢ãƒƒã‚¯ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. Infrastructureå±¤ã¯ç©æ¥µçš„ã«ãƒ¢ãƒƒã‚¯

Infrastructureå±¤ã¯å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨ã®ã‚„ã‚Šå–ã‚Šã‚’è¡Œã†ãŸã‚ã€ãƒ†ã‚¹ãƒˆã§ã¯ç©æ¥µçš„ã«ãƒ¢ãƒƒã‚¯ã—ã¾ã™ã€‚

```typescript
vi.mock('@/infrastructure/config/loader.js', () => ({
  loadLayeredConfig: vi.fn().mockResolvedValue({ locale: 'en' }),
}))
```

**ç†ç”±**:
- å¤–éƒ¨ä¾å­˜ã‚’æ’é™¤ã—ã¦ãƒ†ã‚¹ãƒˆã®å®‰å®šæ€§ã‚’ç¢ºä¿
- ãƒ†ã‚¹ãƒˆã®é«˜é€ŸåŒ–
- å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹ã®æº–å‚™ãŒä¸è¦

### 2. Domainå±¤ã¯ãƒ¢ãƒƒã‚¯ä¸è¦ï¼ˆç´”ç²‹é–¢æ•°ï¼‰

Domainå±¤ã¯ç´”ç²‹é–¢æ•°ãªã®ã§ã€ãƒ¢ãƒƒã‚¯ä¸è¦ã§ç›´æ¥ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚

```typescript
// ãƒ¢ãƒƒã‚¯ä¸è¦
import { defineAction } from '@/domain/action/defineAction.js'
```

**ç†ç”±**:
- ç´”ç²‹é–¢æ•°ã¯å…¥åŠ›ã«å¯¾ã—ã¦å¸¸ã«åŒã˜å‡ºåŠ›ã‚’è¿”ã™
- å‰¯ä½œç”¨ãŒãªã„
- ãƒ¢ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒãªã„

### 3. Applicationå±¤ã¯Infrastructureå±¤ã®ã¿ãƒ¢ãƒƒã‚¯

Applicationå±¤ã®ãƒ†ã‚¹ãƒˆã§ã¯ã€Infrastructureå±¤ã®ã¿ãƒ¢ãƒƒã‚¯ã—ã€Applicationå±¤è‡ªä½“ã¯ãƒ¢ãƒƒã‚¯ã—ã¾ã›ã‚“ã€‚

```typescript
// Applicationå±¤è‡ªä½“ã¯ãƒ¢ãƒƒã‚¯ã—ãªã„
// Infrastructureå±¤ã®ã¿ãƒ¢ãƒƒã‚¯
vi.mock('@/infrastructure/config/partial-save.js', () => ({
  savePartialConfig: vi.fn(),
}))
```

**ç†ç”±**:
- Applicationå±¤ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚
- Infrastructureå±¤ã®å‰¯ä½œç”¨ã®ã¿æ’é™¤

### 4. å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯é¸æŠçš„ã«ãƒ¢ãƒƒã‚¯

å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå…¨ä½“ã‚’ãƒ¢ãƒƒã‚¯ã™ã‚‹ã®ã§ã¯ãªãã€å¿…è¦ãªéƒ¨åˆ†ã®ã¿ãƒ¢ãƒƒã‚¯ã—ã¾ã™ã€‚

```typescript
// Inkã®useInputã®ã¿ãƒ¢ãƒƒã‚¯ï¼ˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯å®Ÿéš›ã«è¡Œã†ï¼‰
vi.mock('ink', async () => {
  const actual = await vi.importActual('ink')
  return {
    ...actual,
    useInput: vi.fn(),
  }
})
```

**ç†ç”±**:
- å®Ÿéš›ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å‹•ä½œã‚’ç¢ºèªã§ãã‚‹
- ãƒ¢ãƒƒã‚¯ãŒè¤‡é›‘ã«ãªã‚Šã™ããªã„
- å®Ÿéš›ã®å‹•ä½œã«è¿‘ã„ãƒ†ã‚¹ãƒˆ

---

## ãƒ†ã‚¹ãƒˆã®å‘½åè¦å‰‡

### describe ãƒ–ãƒ­ãƒƒã‚¯

- ãƒ•ã‚¡ã‚¤ãƒ«åã€ã‚¯ãƒ©ã‚¹åã€ã¾ãŸã¯é–¢æ•°åã‚’ä½¿ç”¨
- ãƒã‚¹ãƒˆã—ã¦éšå±¤æ§‹é€ ã‚’è¡¨ç¾

```typescript
describe('ConfigService', () => {
  describe('changeConfig', () => {
    // ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
  })

  describe('loadConfig', () => {
    // ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
  })
})
```

### it ãƒ–ãƒ­ãƒƒã‚¯

`should + å‹•è©` ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨ã—ã€ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹æ˜ç¢ºã«è¨˜è¿°ã—ã¾ã™ã€‚

```typescript
describe('ConfigService', () => {
  describe('changeConfig', () => {
    it('should update config value', () => {})
    it('should apply side effects', () => {})
    it('should save to file', () => {})
    it('should throw error when validation fails', () => {})
  })
})
```

**è‰¯ã„ä¾‹**:
- `it('should return empty array when no actions found')`
- `it('should throw error when file does not exist')`
- `it('should merge user and workspace configs')`

**æ‚ªã„ä¾‹**:
- `it('test config')`
- `it('works correctly')`
- `it('config test case 1')`

---

## ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

å±¤åˆ¥ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™:
- **Coreå±¤**: 90%+
- **Domainå±¤**: 95%+
- **Infrastructureå±¤**: 85%+
- **Applicationå±¤**: 95%+
- **Presentationå±¤**: 80%+
- **Sharedå±¤**: 100%

### ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ

```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
npm run test:coverage

# HTMLãƒ¬ãƒãƒ¼ãƒˆç¢ºèª
open coverage/index.html
```

### ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è€ƒãˆæ–¹

**100%ã‚’ç›®æŒ‡ã•ãªã„**:
- ã‚«ãƒãƒ¬ãƒƒã‚¸ã¯å“è³ªã®æŒ‡æ¨™ã®1ã¤ã«éããªã„
- ãƒ†ã‚¹ãƒˆã®æ„ç¾©ã‚’è€ƒãˆã‚‹ã“ã¨ãŒé‡è¦
- å½¢å¼çš„ãªãƒ†ã‚¹ãƒˆã‚ˆã‚Šã€æ„å‘³ã®ã‚ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã

**ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒä½ãã¦ã‚‚è‰¯ã„ã‚±ãƒ¼ã‚¹**:
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹
- å‹å®šç¾©ã®ã¿ã®ãƒ•ã‚¡ã‚¤ãƒ«
- å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ©ãƒƒãƒ‘ãƒ¼

---

## ãƒ†ã‚¹ãƒˆã®ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³

### âŒ é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³

**1. ãƒ†ã‚¹ãƒˆã®ãŸã‚ã®å®Ÿè£…å¤‰æ›´**:
```typescript
// âŒ æ‚ªã„ä¾‹: ãƒ†ã‚¹ãƒˆã®ãŸã‚ã ã‘ã«publicã«ã™ã‚‹
export class ConfigService {
  public internalMethod() {} // ãƒ†ã‚¹ãƒˆã®ãŸã‚ã«å…¬é–‹
}

// âœ… è‰¯ã„ä¾‹: publicãƒ¡ã‚½ãƒƒãƒ‰çµŒç”±ã§ãƒ†ã‚¹ãƒˆ
export class ConfigService {
  private internalMethod() {}
  public changeConfig() {
    this.internalMethod()
  }
}
```

**2. éåº¦ãªãƒ¢ãƒƒã‚¯**:
```typescript
// âŒ æ‚ªã„ä¾‹: å…¨ã¦ãƒ¢ãƒƒã‚¯
vi.mock('@/domain/action/types.js')
vi.mock('@/domain/action/defineAction.js')

// âœ… è‰¯ã„ä¾‹: å¿…è¦æœ€å°é™
// Domainå±¤ã¯ç´”ç²‹é–¢æ•°ãªã®ã§ãƒ¢ãƒƒã‚¯ä¸è¦
```

**3. è„†ã„ãƒ†ã‚¹ãƒˆ**:
```typescript
// âŒ æ‚ªã„ä¾‹: å®Ÿè£…è©³ç´°ã«ä¾å­˜
expect(component.state.internalCounter).toBe(5)

// âœ… è‰¯ã„ä¾‹: æŒ¯ã‚‹èˆã„ã‚’ãƒ†ã‚¹ãƒˆ
expect(lastFrame()).toContain('Count: 5')
```

---

## å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

- [Vitestå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://vitest.dev/)
- [ink-testing-library](https://github.com/vadimdemedes/ink-testing-library)
- [Test-Driven Development by Example (Kent Beck)](https://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530)
- [å’Œç”°å“äºº(t-wada)ã•ã‚“ã®TDDè³‡æ–™](https://speakerdeck.com/twada)
