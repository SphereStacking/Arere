---
title: keybindings.json
description: キーボードショートカットのカスタマイズ
---

# keybindings.json

キーボードショートカットをカスタマイズします。

## 基本構造

```json
{
  "global": {
    "exit": ["ctrl+c", "q"],
    "search": ["ctrl+/"],
    "help": ["?"],
    "settings": ["s"],
    "back": ["esc"],
    "confirm": ["enter"]
  },
  "list": {
    "up": ["up"],
    "down": ["down"],
    "select": ["enter"],
    "toggle": ["space"],
    "bookmark": ["tab"]
  }
}
```

## マージ戦略: 完全置換

::alert{type="warning"}
keybindings.json は **完全置換戦略** を採用しています。スコープ（例: `global`）を定義すると、そのスコープのデフォルト設定は完全に置き換えられます。
::

```json
// ❌ 間違い: down, select, toggle, bookmark が動作しない
{
  "list": {
    "up": ["up", "k"]
  }
}

// ✅ 正しい: 全アクションを定義
{
  "list": {
    "up": ["up", "k"],
    "down": ["down", "j"],
    "select": ["enter"],
    "toggle": ["space"],
    "bookmark": ["tab"]
  }
}
```

::alert{type="tip"}
カスタマイズしないスコープは省略できます。省略したスコープはデフォルト設定が使用されます。
::

## スコープとアクション

### global（グローバル）

| アクション | デフォルト | 説明 |
|-----------|-----------|------|
| `exit` | `ctrl+c`, `q` | アプリケーションを終了 |
| `search` | `ctrl+/` | 検索モードを開く |
| `help` | `?` | ヘルプ画面を表示 |
| `settings` | `s` | 設定画面を開く |
| `back` | `esc` | 前の画面に戻る |
| `confirm` | `enter` | 確定 |

### list（リスト）

| アクション | デフォルト | 説明 |
|-----------|-----------|------|
| `up` | `↑` | 上の項目に移動 |
| `down` | `↓` | 下の項目に移動 |
| `select` | `enter` | 項目を選択・実行 |
| `toggle` | `space` | トグル |
| `bookmark` | `tab` | アクションをブックマーク |

### input（入力）

| アクション | デフォルト | 説明 |
|-----------|-----------|------|
| `submit` | `enter` | 入力を確定 |
| `cancel` | `esc` | 入力をキャンセル |
| `prev` | `←` | 前の選択肢に移動 |
| `next` | `→` | 次の選択肢に移動 |
| `toggle` | `space` | トグル |
| `delete` | `backspace`, `delete` | 削除 |

### confirm（確認）

| アクション | デフォルト | 説明 |
|-----------|-----------|------|
| `yes` | `y`, `Y` | はい |
| `no` | `n`, `N` | いいえ |

### form（フォーム）

| アクション | デフォルト | 説明 |
|-----------|-----------|------|
| `nextField` | `tab`, `↓` | 次のフィールドに移動 |
| `prevField` | `shift+tab`, `↑` | 前のフィールドに移動 |
| `submit` | `ctrl+enter` | フォームを送信 |
| `nextStep` | `ctrl+→` | 次のステップに進む |
| `prevStep` | `ctrl+←` | 前のステップに戻る |

### settings（設定）

| アクション | デフォルト | 説明 |
|-----------|-----------|------|
| `reset` | `delete` | 設定をリセット |

## キー表記

### 基本キー

| 表記 | キー |
|------|------|
| `a` - `z` | アルファベット |
| `0` - `9` | 数字 |
| `space` | スペースキー |
| `enter` | Enterキー |
| `esc`, `escape` | Escapeキー |
| `tab` | Tabキー |
| `backspace` | Backspaceキー |
| `delete` | Deleteキー |

### 矢印キー

| 表記 | キー |
|------|------|
| `up` | ↑ |
| `down` | ↓ |
| `left` | ← |
| `right` | → |

### 修飾キー

| 表記 | キー |
|------|------|
| `ctrl+` | Control |
| `shift+` | Shift |
| `meta+`, `cmd+` | Command (macOS) / Windows キー |

## カスタマイズ例

### Vim 風キーバインド

```json
{
  "list": {
    "up": ["up", "k"],
    "down": ["down", "j"],
    "select": ["enter", "l"],
    "toggle": ["space"],
    "bookmark": ["tab"]
  },
  "input": {
    "submit": ["enter"],
    "cancel": ["esc"],
    "prev": ["left", "h"],
    "next": ["right", "l"],
    "toggle": ["space"],
    "delete": ["backspace", "delete"]
  }
}
```

### 検索キーの追加

```json
{
  "global": {
    "exit": ["ctrl+c", "q"],
    "search": ["ctrl+/", "/", "ctrl+f"],
    "help": ["?"],
    "settings": ["s"],
    "back": ["esc"],
    "confirm": ["enter"]
  }
}
```
