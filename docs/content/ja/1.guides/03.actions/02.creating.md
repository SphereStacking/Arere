---
title: アクションの作成
description: arereのアクションの作成方法を学びます
---

# アクションの作成

このガイドでは、アクションの作成方法を学びます。

## Hello World

最もシンプルなアクションから始めましょう。

```typescript
// ~/.arere/actions/hello.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'hello',
  description: 'Hello World を表示',
  async run({ tui }) {
    tui.output.log('Hello, World!')
  }
})
```

アクションを実行：

```bash
arere
# "hello" を選択して Enter
```

## アクションの構造

アクションは `defineAction()` ヘルパーを使って定義します：

```typescript
import { defineAction } from 'arere'

export default defineAction({
  // メタデータ
  name: 'action-name',        // 任意: アクション名（省略時はファイル名から自動推論）
  description: 'Description',  // 必須: 説明
  category: 'category',        // 任意: カテゴリ
  tags: ['tag1', 'tag2'],      // 任意: タグ

  // 実行関数
  async run(context) {
    // アクションの処理
    // context には tui, $, t, env, cwd, config などが含まれる
  }
})
```

## カテゴリとタグ

**カテゴリ**: アクションを大きなグループに分類

```typescript
export default defineAction({
  name: 'git-status',
  category: 'git',  // アクションを分類
  // ...
})
```

**タグ**: より詳細な分類や検索用のキーワード

```typescript
export default defineAction({
  name: 'git-commit',
  description: 'Git コミットを作成',
  category: 'git',
  tags: ['git', 'commit', 'vcs'],  // 複数のタグを設定
  // ...
})
```

タグは UI で `#tag1 #tag2` 形式で表示され、ファジー検索でも使用されます。

## ベストプラクティス

### 適切なエラーハンドリング

```typescript
const result = await $`some-command`
if (result.exitCode !== 0) {
  tui.output.error(`エラーが発生しました: ${result.stderr}`)
  return
}
```

### ユーザーフィードバック

```typescript
tui.output.info('処理中...')
await longRunningTask()
tui.output.success('完了しました')
```

### 確認ダイアログ（危険な操作）

```typescript
const confirmed = await tui.prompt.confirm('本当に削除しますか？', { defaultValue: false })
if (!confirmed) return
```

---

## 次のステップ

- [プロンプト](./03.prompts) - ユーザー入力の取得
- [シェルコマンド](./04.shell) - コマンドの実行
- [高度なテクニック](./05.advanced) - 進捗表示、CI/CD、i18n
- [defineAction API](/ja/api/defineAction) - アクション定義の詳細
