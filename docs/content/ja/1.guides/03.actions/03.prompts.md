---
title: プロンプトを使う
description: ユーザーからの入力を受け取る方法を学びます
---

# プロンプトを使う

ユーザーからの入力を受け取るには、`prompt` APIを使用します。

## テキスト入力

```typescript
// ~/.arere/greet.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'greet',
  description: '挨拶する',
  async run({ tui }) {
    // 名前を入力
    const name = await tui.prompt.text('お名前は？')

    tui.output.success(`こんにちは、${name}さん！`)
  }
})
```

## バリデーション

入力値を検証できます：

```typescript
// ~/.arere/create-user.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'create-user',
  description: 'ユーザーを作成',
  async run({ tui }) {
    // メールアドレス入力（バリデーション付き）
    const email = await tui.prompt.text('メールアドレス:', {
      placeholder: 'user@example.com',
      validate: (value) => {
        if (!value.includes('@')) {
          return 'メールアドレスの形式が正しくありません'
        }
        return true
      },
    })

    // パスワード入力
    const password = await tui.prompt.text('パスワード:', {
      validate: (value) => {
        if (value.length < 8) {
          return 'パスワードは8文字以上で入力してください'
        }
        return true
      },
    })

    tui.output.success(`ユーザーを作成しました: ${email}`)
  }
})
```

## 選択リスト

複数の選択肢から選ぶ：

```typescript
// ~/.arere/choose-env.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'choose-env',
  description: '環境を選択',
  async run({ tui }) {
    const env = await tui.prompt.select('環境を選択:', [
      { label: '開発環境', value: 'development' },
      { label: 'ステージング', value: 'staging' },
      { label: '本番環境', value: 'production' },
    ])

    tui.output.info(`選択された環境: ${env}`)
  }
})
```

## 確認ダイアログ

Yes/No の確認：

```typescript
// ~/.arere/dangerous-op.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'dangerous-op',
  description: '危険な操作',
  async run({ tui }) {
    const confirmed = await tui.prompt.confirm('本当に実行しますか？', { defaultValue: false })

    if (!confirmed) {
      tui.output.warn('キャンセルしました')
      return
    }

    tui.output.success('実行しました')
  }
})
```

## フォーム入力

複数フィールドを一度に入力するフォームを作成できます：

```typescript
// ~/.arere/create-user.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'create-user',
  description: 'ユーザーを作成',
  async run({ tui }) {
    // フォームで複数フィールドを一度に入力
    const user = await tui.prompt({
      title: 'ユーザー登録',
      description: '必要な情報を入力してください',
      fields: {
        name: { type: 'text', message: '名前', placeholder: 'John Doe' },
        email: { type: 'text', message: 'メールアドレス' },
        age: { type: 'number', message: '年齢', min: 0, max: 150 },
        role: {
          type: 'select',
          message: '権限',
          choices: [
            { label: '管理者', value: 'admin' },
            { label: '編集者', value: 'editor' },
            { label: '閲覧者', value: 'viewer' },
          ],
        },
      },
    })

    tui.output.success(`ユーザーを作成しました: ${user.name} (${user.role})`)
  }
})
```

## ステップフォーム（ウィザード）

配列形式でフォームを渡すと、ステップ形式のウィザードになります：

```typescript
// ~/.arere/setup-wizard.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'setup-wizard',
  description: 'プロジェクトセットアップウィザード',
  async run({ tui }) {
    const config = await tui.prompt([
      {
        title: 'ステップ 1: 基本設定',
        fields: {
          projectName: { type: 'text', message: 'プロジェクト名' },
          version: { type: 'text', message: 'バージョン', defaultValue: '1.0.0' },
        },
      },
      {
        title: 'ステップ 2: 環境設定',
        fields: {
          env: {
            type: 'select',
            message: '環境',
            choices: ['development', 'staging', 'production'],
          },
          debug: { type: 'confirm', message: 'デバッグモード？' },
        },
      },
    ])

    tui.output.json(config)
  }
})
```

詳細は [Prompt API リファレンス](/ja/api/prompt) を参照してください。

---

## 次のステップ

- [シェルコマンド](./04.shell) - コマンドの実行
- [高度なテクニック](./05.advanced) - 進捗表示、CI/CD、i18n
- [Prompt API](/ja/api/prompt) - 詳細なリファレンス
