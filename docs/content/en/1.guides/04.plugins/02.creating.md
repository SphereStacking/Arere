---
title: Creating Plugins
description: Learn how to create arere plugins
---

# Creating Plugins

## 1. Initialize the Project

```bash
# Create plugin directory
mkdir arere-plugin-example
cd arere-plugin-example

# Create package.json
npm init -y

# Install required packages
npm install --save-dev arere tsup typescript
```

## 2. Configure package.json

```json
{
  "name": "arere-plugin-example",
  "version": "1.0.0",
  "description": "Example plugin for arere",
  "keywords": ["arere-plugin"],
  "main": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "files": [
    "dist",
    "actions"
  ],
  "scripts": {
    "build": "tsup",
    "dev": "tsup --watch",
    "test": "vitest run",
    "prepublishOnly": "npm run build"
  },
  "peerDependencies": {
    "arere": ">=0.1.0"
  },
  "devDependencies": {
    "arere": "^0.1.0",
    "tsup": "^8.0.0",
    "typescript": "^5.0.0",
    "vitest": "^1.0.0"
  }
}
```

**Important points**:
- Include `"arere-plugin"` in `keywords`
- Include `"dist"` and `"actions"` in `files`
- Specify `"arere"` in `peerDependencies`

## 3. TypeScript Configuration (tsconfig.json)

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "lib": ["ES2022"],
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "declaration": true,
    "outDir": "./dist"
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist", "tests"]
}
```

## 4. Build Configuration (tsup.config.ts)

```typescript
import { defineConfig } from 'tsup'

export default defineConfig({
  entry: ['src/index.ts'],
  format: ['esm'],
  dts: true,
  clean: true,
  outDir: 'dist',
})
```

## 5. Plugin Definition (src/index.ts)

```typescript
import { definePlugin } from 'arere'

export default definePlugin({
  meta: {
    name: 'arere-plugin-example',
    version: '1.0.0',
    description: 'Example plugin for arere',
    author: 'Your Name',
  },
  actions: [
    './actions/hello.ts',
    './actions/goodbye.ts',
  ],
})
```

::alert{type="tip"}
Using the `definePlugin()` helper function provides type checking and validation.
::

---

## Adding Actions

### Basic Action

```typescript
// actions/hello.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'example-hello',
  description: 'Display Hello',
  category: 'example',
  tags: ['example', 'demo'],
  async run({ tui }) {
    tui.output.log('Hello from plugin!')
  },
})
```

### Using Prompts

```typescript
// actions/greet.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'example-greet',
  description: 'Greet someone',
  category: 'example',
  tags: ['example', 'interactive'],
  async run({ tui }) {
    const name = await tui.prompt.text('What is your name?', {
      placeholder: 'John Doe',
    })

    tui.output.log(`Hello, ${name}!`)
  },
})
```

### Executing Shell Commands

```typescript
// actions/git-info.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'example-git-info',
  description: 'Display Git repository information',
  category: 'example',
  tags: ['example', 'git', 'info'],
  async run({ $, tui }) {
    const branchResult = await $`git branch --show-current`
    if (branchResult.exitCode !== 0) {
      tui.output.error('Not a Git repository')
      return
    }

    const remoteResult = await $`git remote get-url origin`

    tui.output.log(`Branch: ${branchResult.stdout}`)
    tui.output.log(`Remote: ${remoteResult.stdout}`)
  },
})
```

::alert{type="info"}
Shell commands do not throw errors. Check success/failure with `result.exitCode`.
::

---

## Using External Libraries

Plugins can have their own dependencies.

### 1. Install Libraries

```bash
npm install date-fns chalk
```

### 2. Add to package.json

```json
{
  "dependencies": {
    "date-fns": "^2.30.0",
    "chalk": "^5.3.0"
  }
}
```

### 3. Use in Actions

```typescript
// actions/format-date.ts
import { defineAction } from 'arere'
import { format } from 'date-fns'
import chalk from 'chalk'

export default defineAction({
  name: 'example-format-date',
  description: 'Format current time',
  category: 'example',
  tags: ['example', 'date', 'time'],
  async run({ tui }) {
    const now = new Date()
    const formatted = format(now, 'yyyy-MM-dd HH:mm:ss')

    tui.output.log(chalk.blue(`Current time: ${formatted}`))
  },
})
```

---

## Next Steps

- [Config Schema](./config.md) - Defining plugin configuration
- [Publishing](./publishing.md) - How to publish to npm
- [Plugin API](/api/plugin) - Detailed API specification
