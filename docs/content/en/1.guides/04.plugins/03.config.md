---
title: Config Schema
description: How to define plugin configuration schema
---

# Config Schema

Plugins can have user-customizable configuration. Define the schema using Zod.

## Defining the Schema

Define the schema in the `configSchema` property of `definePlugin()`:

```typescript
// src/index.ts
import { definePlugin } from 'arere'
import { z } from 'zod'

export default definePlugin({
  meta: {
    name: 'arere-plugin-example',
    version: '1.0.0',
    description: 'Example plugin',
  },
  actions: ['actions/hello.ts'],
  configSchema: z.object({
    greeting: z.string().default('Hello').describe('Greeting message'),
    maxRetries: z.number().min(1).max(10).default(3).describe('Maximum retry count'),
    enableDebug: z.boolean().default(false).describe('Debug mode'),
    theme: z.enum(['light', 'dark', 'auto']).default('auto').describe('Theme'),
    apiKey: z.string().optional().describe('API key (optional)'),
  }),
})
```

See the [Zod official documentation](https://zod.dev/) for details on Zod.

## Using in Actions

Get configuration values from `pluginConfig`:

```typescript
// actions/hello.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'hello',
  description: 'Greet',
  async run({ tui, pluginConfig }) {
    const greeting = pluginConfig?.greeting || 'Hello'
    const debug = pluginConfig?.enableDebug ?? false

    if (debug) {
      tui.output.info('Debug mode enabled')
    }

    tui.output.log(`${greeting}, World!`)
  },
})
```

## User Configuration

Users can change plugin settings in `.arere/settings.json`:

```json
{
  "plugins": {
    "arere-plugin-example": {
      "enabled": true,
      "config": {
        "greeting": "Hello",
        "maxRetries": 5,
        "enableDebug": true
      }
    }
  }
}
```

Configuration is validated against the schema, and invalid values will cause errors.

---

## Next Steps

- [Publishing](./publishing.md) - How to publish to npm
- [Plugin API](/api/plugin) - Detailed API specification
