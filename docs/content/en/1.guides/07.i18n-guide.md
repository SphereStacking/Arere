---
title: i18n Internationalization Guide
description: How to use internationalization (i18n) in arere projects
---

# i18n Internationalization Guide

This guide explains how to handle internationalization (i18n) in arere.

## Overview

Arere supports multiple languages with its own lightweight translation system.

**Supported Languages:**
- **English (en)** - Default language
- **Japanese (ja)** - Japanese

## Configuration

### Setting the Locale

Set the language in `.arere/settings.json`:

```json
{
  "locale": "en"
}
```

### Locale Detection Priority

1. **Configuration file** - `locale` field in `settings.json`
2. **System locale** - `LANG` or `LC_ALL` environment variable
3. **Default** - English (`en`)

---

## For Plugin Developers

Plugins can provide their own translations.

### Directory Structure

```
arere-plugin-example/
├── locales/
│   ├── en/
│   │   └── translation.json
│   └── ja/
│       └── translation.json
├── src/
│   └── index.ts
└── actions/
    └── example.ts
```

### Translation Files

**`locales/en/translation.json`:**
```json
{
  "greeting": "Hello from plugin!",
  "actions": {
    "confirm": "Are you sure?"
  }
}
```

**`locales/ja/translation.json`:**
```json
{
  "greeting": "Hello from plugin!",
  "actions": {
    "confirm": "Are you sure?"
  }
}
```

### Registering in Plugin

```typescript
import { definePlugin } from 'arere'

export default definePlugin({
  meta: {
    name: 'arere-plugin-example',
    version: '1.0.0',
  },
  actions: ['actions/example.ts'],
  locales: 'locales',  // Specify locales directory
})
```

### Using in Actions

Access translations with the `plugin:` prefix:

```typescript
import { defineAction } from 'arere'

export default defineAction({
  name: 'plugin-action',
  description: ({ t }) => t('plugin:actions.demo.description'),
  async run({ tui, t }) {
    // Plugin translation
    const greeting = t('plugin:greeting')
    tui.output.log(greeting)

    const confirmed = await tui.prompt.confirm(
      t('plugin:actions.confirm')
    )
  },
})
```

### Package Configuration

Include `locales` in `package.json`:

```json
{
  "files": ["dist", "actions", "locales"]
}
```

---

## For User Action Developers

User actions (project/global) support inline translations.

### Inline Translations

Embed translations with the `translations` property:

```typescript
import { defineAction } from 'arere'

export default defineAction({
  name: 'greet',
  description: ({ t }) => t('description'),
  translations: {
    en: {
      description: 'Greet someone',
      greeting: 'Hello, {{name}}!',
      prompt: { name: 'What is your name?' }
    },
    ja: {
      description: 'Greet someone',
      greeting: 'Hello, {{name}}!',
      prompt: { name: 'What is your name?' }
    }
  },
  async run({ t, tui }) {
    const name = await tui.prompt.text(t('prompt.name'))
    tui.output.log(t('greeting', { name }))
  }
})
```

**Key Points:**
- `t()` uses the action's own namespace by default
- Access without prefix

### Benefits

- **Single file** - Keep translations and code together
- **No file structure needed** - No `locales/` directory required
- **Portable** - Share as a single file

---

## Which Approach to Use

| Approach | Best For |
|----------|----------|
| **Inline Translations** | User actions, small translations |
| **locales/ directory** | Plugins, large translations |

---

## Best Practices

1. **Always add translations for all locales**
2. **Use parameters** - `{{name}}`, avoid string concatenation
3. **Use meaningful key names**

### Good Examples

```typescript
// Use parameters
t('greeting', { name })

// Hierarchical keys
t('messages.success')
```

### Bad Examples

```typescript
// String concatenation
"Hello, " + name + "!"

// Meaningless key names
t('msg1')
```
