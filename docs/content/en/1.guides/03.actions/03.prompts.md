---
title: Using Prompts
description: Learn how to receive input from users
---

# Using Prompts

To receive input from users, use the `prompt` API.

## Text Input

```typescript
// ~/.arere/greet.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'greet',
  description: 'Greet someone',
  async run({ tui }) {
    // Input name
    const name = await tui.prompt.text('What is your name?')

    tui.output.success(`Hello, ${name}!`)
  }
})
```

## Validation

You can validate input values:

```typescript
// ~/.arere/create-user.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'create-user',
  description: 'Create a user',
  async run({ tui }) {
    // Email input (with validation)
    const email = await tui.prompt.text('Email address:', {
      placeholder: 'user@example.com',
      validate: (value) => {
        if (!value.includes('@')) {
          return 'Invalid email address format'
        }
        return true
      },
    })

    // Password input
    const password = await tui.prompt.text('Password:', {
      validate: (value) => {
        if (value.length < 8) {
          return 'Password must be at least 8 characters'
        }
        return true
      },
    })

    tui.output.success(`User created: ${email}`)
  }
})
```

## Selection List

Choose from multiple options:

```typescript
// ~/.arere/choose-env.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'choose-env',
  description: 'Select environment',
  async run({ tui }) {
    const env = await tui.prompt.select('Select environment:', [
      { label: 'Development', value: 'development' },
      { label: 'Staging', value: 'staging' },
      { label: 'Production', value: 'production' },
    ])

    tui.output.info(`Selected environment: ${env}`)
  }
})
```

## Confirmation Dialog

Yes/No confirmation:

```typescript
// ~/.arere/dangerous-op.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'dangerous-op',
  description: 'Dangerous operation',
  async run({ tui }) {
    const confirmed = await tui.prompt.confirm('Are you sure you want to proceed?', { defaultValue: false })

    if (!confirmed) {
      tui.output.warn('Cancelled')
      return
    }

    tui.output.success('Executed')
  }
})
```

## Form Input

You can create forms to input multiple fields at once:

```typescript
// ~/.arere/create-user.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'create-user',
  description: 'Create a user',
  async run({ tui }) {
    // Input multiple fields at once with a form
    const user = await tui.prompt({
      title: 'User Registration',
      description: 'Please enter the required information',
      fields: {
        name: { type: 'text', message: 'Name', placeholder: 'John Doe' },
        email: { type: 'text', message: 'Email address' },
        age: { type: 'number', message: 'Age', min: 0, max: 150 },
        role: {
          type: 'select',
          message: 'Role',
          choices: [
            { label: 'Administrator', value: 'admin' },
            { label: 'Editor', value: 'editor' },
            { label: 'Viewer', value: 'viewer' },
          ],
        },
      },
    })

    tui.output.success(`User created: ${user.name} (${user.role})`)
  }
})
```

## Step Form (Wizard)

Passing a form as an array creates a step-by-step wizard:

```typescript
// ~/.arere/setup-wizard.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'setup-wizard',
  description: 'Project setup wizard',
  async run({ tui }) {
    const config = await tui.prompt([
      {
        title: 'Step 1: Basic Settings',
        fields: {
          projectName: { type: 'text', message: 'Project name' },
          version: { type: 'text', message: 'Version', defaultValue: '1.0.0' },
        },
      },
      {
        title: 'Step 2: Environment Settings',
        fields: {
          env: {
            type: 'select',
            message: 'Environment',
            choices: ['development', 'staging', 'production'],
          },
          debug: { type: 'confirm', message: 'Debug mode?' },
        },
      },
    ])

    tui.output.json(config)
  }
})
```

See the [Prompt API Reference](/api/prompt) for details.

---

## Next Steps

- [Shell Commands](./shell.md) - Executing commands
- [Advanced Techniques](./advanced.md) - Progress display, CI/CD, i18n
- [Prompt API](/api/prompt) - Detailed reference
