---
title: GitHub Actions Integration
description: How to use arere actions in GitHub Actions workflows
---

# GitHub Actions Integration

Use Arere actions in GitHub Actions workflows for type-safe CI/CD.

## Benefits

- **Type-safe** - Catch errors before execution
- **Better error handling** - No need for `set -e` or `$?` checks
- **Reusable** - Run the same actions locally and in CI
- **IDE support** - Autocomplete, refactoring
- **Testable** - Unit test your CI/CD logic

## Quick Start

### 1. Create an Action

```typescript
// .arere/actions/deploy.ts
import { defineAction } from 'arere'

export default defineAction({
  name: 'deploy',
  description: 'Deploy to production',
  async run({ $, tui, env }) {
    tui.output.section('Building')
    await $`npm run build`

    tui.output.section('Deploying')
    await $`npm run deploy`

    tui.output.success('Deployment complete!')
  }
})
```

### 2. Use in GitHub Actions

```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: ./actions/arere-action
        with:
          action: deploy
```

### 3. Test Locally

```bash
arere run deploy
```

## Before/After Comparison

### Before: Bash Script

```yaml
- name: Deploy
  run: |
    set -e
    if [ -z "$API_KEY" ]; then
      echo "Error: API_KEY is required"
      exit 1
    fi
    npm run build
    npm run deploy
```

### After: TypeScript with Arere

```typescript
export default defineAction({
  name: 'deploy',
  async run({ $, tui, env }) {
    if (!env.API_KEY) {
      throw new Error('API_KEY is required')
    }

    tui.output.section('Building')
    await $`npm run build`

    tui.output.section('Deploying')
    await $`npm run deploy`

    tui.output.success('Deployment complete!')
  }
})
```

## Headless Mode Limitations

Interactive prompts cannot be used in GitHub Actions (headless mode):

```typescript
// ❌ Won't work in CI
const name = await tui.prompt.text('Enter name:')

// ✅ Use environment variables
const name = env.NAME || 'default-value'
```

**Best practices for CI compatibility:**

1. Use environment variables for input
2. Manage secrets with GitHub Secrets
3. Provide default values

---

## Next Steps

- [Common Patterns](./02.patterns) - Environment variables, pipelines
- [Advanced Usage](./03.advanced) - Artifacts, matrix builds
