---
title: Advanced Usage
description: Artifacts, matrix builds, composite actions
---

# Advanced Usage

## Artifacts and Caching

Using GitHub Actions artifacts with Arere:

```yaml
- name: Build
  uses: ./actions/arere-action
  with:
    action: build

- name: Upload artifacts
  uses: actions/upload-artifact@v4
  with:
    name: build-output
    path: dist/

- name: Download artifacts
  uses: actions/download-artifact@v4
  with:
    name: build-output
    path: dist/

- name: Deploy
  uses: ./actions/arere-action
  with:
    action: deploy
```

## Matrix Builds

Run tests across multiple environments:

```yaml
strategy:
  matrix:
    node: [18, 20]
    os: [ubuntu-latest, windows-latest]

steps:
  - uses: ./actions/arere-action
    with:
      action: test
      node-version: ${{ matrix.node }}
```

## Composite Actions

Create reusable actions by combining multiple actions:

```typescript
// .arere/actions/test-and-deploy.ts
export default defineAction({
  name: 'test-and-deploy',
  description: 'Test then deploy if successful',
  async run({ $ }) {
    // Run test action
    await $`arere run test`

    // Run deploy action
    await $`arere run deploy`
  }
})
```
