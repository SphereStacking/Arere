---
title: TUI API
description: API reference for the unified interface for interacting with users interactively within actions
---

# TUI API

The TUI API is a unified interface for interacting with users interactively within actions. It provides both prompt input and output display.

## Overview

```typescript
interface TuiAPI {
  prompt: PromptAPI
  output: OutputAPI
}
```

The TUI API consists of two main APIs:

- **[Prompt API](#prompt-api)**: Get input from users
- **[Output API](#output-api)**: Display output to the terminal

## Access Method

The TUI API is accessible from the action context via the `tui` property:

```typescript
import { defineAction } from 'arere'

export default defineAction({
  name: 'my-action',
  description: 'My action',
  async run({ tui }) {
    // Use Prompt API
    const name = await tui.prompt.text('What is your name?')

    // Use Output API
    tui.output.success(`Hello, ${name}!`)
  },
})
```

## Prompt API

Provides methods for getting input from users.

### text(message, options?)

Gets text input.

```typescript
const name = await tui.prompt.text('Enter your name:', {
  placeholder: 'John Doe',
  defaultValue: 'Guest',
  validate: (value) => {
    if (value.length < 2) {
      return 'Name must be at least 2 characters'
    }
    return true
  },
})
```

**Parameters:**
- `message`: Prompt message
- `options` (optional):
  - `placeholder`: Placeholder text
  - `defaultValue`: Default value
  - `validate`: Validation function (returns `true` or error message)
  - `multiline`: Enable multi-line input

### number(message, options?)

Gets numeric input.

```typescript
const age = await tui.prompt.number('Enter your age:', {
  defaultValue: 25,
  min: 0,
  max: 120,
  validate: (value) => {
    if (value < 18) {
      return 'Must be 18 or older'
    }
    return true
  },
})
```

**Parameters:**
- `message`: Prompt message
- `options` (optional):
  - `defaultValue`: Default value
  - `min`: Minimum value
  - `max`: Maximum value
  - `validate`: Validation function

### password(message, options?)

Gets password input (masked display).

```typescript
const password = await tui.prompt.password('Enter password:', {
  minLength: 8,
  placeholder: 'At least 8 characters',
  validate: (value) => {
    if (!/[A-Z]/.test(value)) {
      return 'Must contain uppercase letter'
    }
    return true
  },
})
```

**Parameters:**
- `message`: Prompt message
- `options` (optional):
  - `minLength`: Minimum character count
  - `placeholder`: Placeholder text
  - `validate`: Validation function

### select(message, choices, options?)

Gets single selection.

```typescript
const color = await tui.prompt.select(
  'Choose a color:',
  ['red', 'blue', 'green'],
  { defaultValue: 'blue' }
)

// Or use SelectChoice objects
const option = await tui.prompt.select('Choose:', [
  { label: 'Option A', value: 'a', description: 'First option' },
  { label: 'Option B', value: 'b', description: 'Second option' },
])
```

**Parameters:**
- `message`: Prompt message
- `choices`: Array of choices (strings or `SelectChoice<T>` objects)
- `options` (optional):
  - `defaultValue`: Default selection value

### confirm(message, options?)

Gets Yes/No confirmation.

```typescript
const proceed = await tui.prompt.confirm('Continue?', {
  defaultValue: true,
})
```

**Parameters:**
- `message`: Prompt message
- `options` (optional):
  - `defaultValue`: Default value (`true` or `false`)

### multiSelect(message, choices, options?)

Gets multiple selection.

```typescript
const features = await tui.prompt.multiSelect(
  'Select features:',
  ['feature1', 'feature2', 'feature3'],
  {
    min: 1,
    max: 2,
    defaultValue: ['feature1'],
  }
)
```

**Parameters:**
- `message`: Prompt message
- `choices`: Array of choices
- `options` (optional):
  - `defaultValue`: Array of default selection values
  - `min`: Minimum selection count
  - `max`: Maximum selection count

## Output API

Provides methods for displaying output to the terminal.

### log(...args)

Outputs basic log messages.

```typescript
tui.output.log('This is a log message')
tui.output.log('Value:', 42, { key: 'value' })
```

**Output example:**
```
This is a log message
Value: 42 {"key":"value"}
```

### success(message)

Outputs success messages (green color, with checkmark icon).

```typescript
tui.output.success('Operation completed successfully!')
```

**Output example:**
```
✓ Operation completed successfully!
```

### error(message)

Outputs error messages (red color, with X icon).

```typescript
tui.output.error('An error occurred')
```

**Output example:**
```
✗ An error occurred
```

### warn(message)

Outputs warning messages (yellow color, with warning icon).

```typescript
tui.output.warn('This is a warning')
```

**Output example:**
```
⚠ This is a warning
```

### info(message)

Outputs informational messages (blue color, with info icon).

```typescript
tui.output.info('For your information...')
```

**Output example:**
```
ℹ For your information...
```

### newline()

Inserts an empty line.

```typescript
tui.output.newline()
```

**Output example:**
```
(empty line)
```

### code(snippet)

Displays a code snippet (shown in a box).

```typescript
tui.output.code('const greeting = "Hello, World!"')
```

**Output example:**
```
`const greeting = "Hello, World!"`
```

### section(title)

Displays a section header (with separator lines).

```typescript
tui.output.section('Configuration Settings')
```

**Output example:**
```

=== Configuration Settings ===

```

### list(items)

Displays a bulleted list.

```typescript
tui.output.list([
  'First item',
  'Second item',
  'Third item',
])
```

**Output example:**
```
  • First item
  • Second item
  • Third item
```

### keyValue(data)

Displays key-value pairs.

```typescript
tui.output.keyValue({
  Name: 'Arere',
  Version: '0.1.0',
  Language: 'TypeScript',
})
```

**Output example:**
```

  Name: Arere
  Version: 0.1.0
  Language: TypeScript

```

### table(data)

Displays a table.

```typescript
tui.output.table([
  { Name: 'Alice', Age: 28, Role: 'Developer' },
  { Name: 'Bob', Age: 32, Role: 'Designer' },
])
```

**Output example:**
```

  Name | Age | Role
  --- | --- | ---
  Alice | 28 | Developer
  Bob | 32 | Designer

```

### json(data, indent?)

Outputs in JSON format.

```typescript
tui.output.json({ key: 'value', nested: { data: true } }, 2)
```

**Output example:**
```json
{
  "key": "value",
  "nested": {
    "data": true
  }
}
```

**Parameters:**
- `data`: Data to JSONify
- `indent`: Number of spaces for indentation (default: 2)

### separator(char?, length?)

Displays a horizontal separator line.

```typescript
tui.output.separator('─', 50)
tui.output.separator('=', 30)
```

**Output example:**
```
──────────────────────────────────────────────────
==============================
```

**Parameters:**
- `char`: Separator character (default: `'-'`)
- `length`: Length (default: 40)

### step(number, description)

Displays a numbered step.

```typescript
tui.output.step(1, 'Initialize configuration')
tui.output.step(2, 'Load plugins')
tui.output.step(3, 'Start application')
```

**Output example:**
```

[1] Initialize configuration

[2] Load plugins

[3] Start application
```

## Practical Examples

### Basic Usage Example

```typescript
export default defineAction({
  name: 'user-setup',
  description: 'User setup wizard',
  async run({ tui }) {
    tui.output.section('User Setup Wizard')
    tui.output.newline()

    // Collect user information
    const name = await tui.prompt.text('Enter your name:')
    const age = await tui.prompt.number('Enter your age:', { min: 0 })

    // Confirmation
    tui.output.keyValue({ Name: name, Age: age })
    tui.output.newline()

    const confirm = await tui.prompt.confirm('Is this correct?')

    if (confirm) {
      tui.output.success('Setup completed!')
    } else {
      tui.output.warn('Setup cancelled')
    }
  },
})
```

### Complex Output Example

```typescript
export default defineAction({
  name: 'system-status',
  description: 'Show system status',
  async run({ tui }) {
    tui.output.section('System Status Report')
    tui.output.newline()

    // Step display
    tui.output.step(1, 'Checking services')
    tui.output.success('All services running')
    tui.output.newline()

    // Table display
    tui.output.step(2, 'Resource usage')
    tui.output.table([
      { Resource: 'CPU', Usage: '45%', Status: 'Normal' },
      { Resource: 'Memory', Usage: '72%', Status: 'Normal' },
      { Resource: 'Disk', Usage: '88%', Status: 'Warning' },
    ])
    tui.output.newline()

    // List display
    tui.output.step(3, 'Recent events')
    tui.output.list([
      'Service started at 10:00',
      'Backup completed at 11:30',
      'Update available',
    ])

    tui.output.separator()
    tui.output.success('Status check completed')
  },
})
```

## See Also

- [Action Development Guide](/en/guides/actions/creating)
- [defineAction API](./defineAction.md)
- [Shell Executor API](./shell.md)
