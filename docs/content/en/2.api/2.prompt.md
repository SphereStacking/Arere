---
title: Prompt API
description: API reference for prompts to receive user input
---

# prompt API

API for prompts to receive user input.

## Import

```typescript
import { text, select, confirm, multiSelect } from 'arere'
```

In actions, use via `context.tui.prompt`:

```typescript
export default defineAction({
  async run({ tui }) {
    const name = await tui.prompt.text('What is your name?')
  }
})
```

---

## text()

Text input prompt.

### Syntax

```typescript
async function text(message: string, options?: TextOptions): Promise<string>
```

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `message` | `string` | ✅ | Prompt message |
| `options` | `TextOptions` | ❌ | Text input options |

#### `TextOptions`

| Property | Type | Description |
|----------|------|-------------|
| `placeholder` | `string` | Placeholder text |
| `defaultValue` | `string` | Default value |
| `validate` | `(value: string) => boolean \| string` | Validation function. `true` for success, string for error message |
| `prefix` | `string` | Prefix (fixed string, read-only) |
| `suffix` | `string` | Suffix (fixed string, read-only) |
| `maxLength` | `number` | Maximum characters (including prefix/suffix) |
| `minLength` | `number` | Minimum characters (including prefix/suffix) |
| `pattern` | `RegExp` | Input pattern restriction (blocks non-matching characters) |
| `format` | `'lowercase' \| 'uppercase' \| 'trim' \| 'kebab-case' \| ((value: string) => string)` | Format conversion (applied on Submit) |

### Return Value

Returns the entered text as `Promise<string>`.

### Examples

```typescript
// Basic usage
const name = await text('What is your name?')

// With placeholder
const email = await text('Email address:', {
  placeholder: 'user@example.com',
})

// With default value
const repo = await text('Repository name:', {
  defaultValue: 'my-project',
})

// With validation
const port = await text('Port number:', {
  validate: (value) => {
    const num = Number.parseInt(value, 10)
    if (Number.isNaN(num)) {
      return 'Port number must be a number'
    }
    if (num < 1 || num > 65535) {
      return 'Port number must be between 1-65535'
    }
    return true
  },
})

// With prefix (plugin name)
const pluginName = await text('Plugin name:', {
  prefix: 'arere-plugin-',
  placeholder: 'example',
})
// User enters 'hello' → Returns: 'arere-plugin-hello'

// With suffix (email address)
const username = await text('Username:', {
  suffix: '@company.com',
  placeholder: 'john.doe',
})
// User enters 'alice' → Returns: 'alice@company.com'

// Format conversion (kebab-case)
const slug = await text('URL slug:', {
  format: 'kebab-case',
  placeholder: 'my-article',
})
// User enters 'My Article Title' → Returns: 'my-article-title'
```

---

## select()

Single selection prompt.

### Syntax

```typescript
async function select<T>(
  message: string,
  choices: T[] | SelectChoice<T>[]
): Promise<T>
```

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `message` | `string` | ✅ | Prompt message |
| `choices` | `T[]` or `SelectChoice<T>[]` | ✅ | Array of choices |

#### `SelectChoice<T>`

| Property | Type | Required | Description |
|----------|------|----------|-------------|
| `label` | `string` | ✅ | Display label |
| `value` | `T` | ✅ | Return value when selected |
| `description` | `string` | ❌ | Choice description |

### Return Value

Returns the selected value as `Promise<T>`.

### Examples

```typescript
// Array of strings
const color = await select('Select color:', ['red', 'blue', 'green'])
console.log(color) // 'red', 'blue', or 'green'

// SelectChoice objects
const env = await select('Select environment:', [
  { label: 'Development', value: 'development', description: 'For local development' },
  { label: 'Staging', value: 'staging', description: 'Test environment' },
  { label: 'Production', value: 'production', description: 'Production server' },
])
console.log(env) // 'development', 'staging', or 'production'
```

---

## confirm()

Yes/No confirmation prompt.

### Syntax

```typescript
async function confirm(
  message: string,
  defaultValue?: boolean
): Promise<boolean>
```

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `message` | `string` | ✅ | Confirmation message |
| `defaultValue` | `boolean` | ❌ | Default value (`undefined` if not specified) |

### Return Value

Returns `true` (Yes) or `false` (No) as `Promise<boolean>`.

### Examples

```typescript
// Basic usage
const shouldContinue = await confirm('Continue?')
if (!shouldContinue) {
  console.log('Cancelled')
  return
}

// Default value: Yes
const shouldDeploy = await confirm('Deploy?', { defaultValue: true })

// Default value: No (dangerous operations)
const shouldDelete = await confirm('Are you sure you want to delete?', { defaultValue: false })
```

---

## multiSelect()

Multiple selection prompt.

### Syntax

```typescript
async function multiSelect<T>(
  message: string,
  choices: T[] | SelectChoice<T>[]
): Promise<T[]>
```

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `message` | `string` | ✅ | Prompt message |
| `choices` | `T[]` or `SelectChoice<T>[]` | ✅ | Array of choices |

### Return Value

Returns an array of selected values as `Promise<T[]>`.

### Examples

```typescript
// Array of strings
const colors = await multiSelect('Select colors (multiple):', ['red', 'blue', 'green', 'yellow'])
console.log(colors) // ['red', 'green'] etc.

// SelectChoice objects
const features = await multiSelect('Features to enable:', [
  { label: 'TypeScript', value: 'typescript' },
  { label: 'ESLint', value: 'eslint' },
  { label: 'Prettier', value: 'prettier' },
  { label: 'Vitest', value: 'vitest' },
])

console.log(features) // ['typescript', 'eslint'] etc.
```

---

## tui.prompt() - Form Mode

You can create forms to input multiple fields at once.

### Single Form

```typescript
const result = await tui.prompt({
  title: 'User Registration',
  description: 'Please enter the required information',
  fields: {
    name: { type: 'text', message: 'Name' },
    email: { type: 'text', message: 'Email address' },
    age: { type: 'number', message: 'Age', min: 0, max: 150 },
  },
})
// result: { name: string, email: string, age: number }
```

### Field Types

Available field types in forms:

| Type | Description | Value Type |
|------|-------------|------------|
| `text` | Text input | `string` |
| `number` | Number input | `number` |
| `password` | Password input (hidden) | `string` |
| `select` | Single selection | `T` |
| `confirm` | Yes/No confirmation | `boolean` |
| `multiSelect` | Multiple selection | `T[]` |

### Step Form (Wizard)

Passing a form as an array creates a step-by-step wizard:

```typescript
const result = await tui.prompt([
  {
    title: 'Step 1: Basic Settings',
    fields: {
      projectName: { type: 'text', message: 'Project name' },
      version: { type: 'text', message: 'Version', defaultValue: '1.0.0' },
    },
  },
  {
    title: 'Step 2: Environment Settings',
    fields: {
      env: {
        type: 'select',
        message: 'Environment',
        choices: ['development', 'staging', 'production'],
      },
      debug: { type: 'confirm', message: 'Debug mode?' },
    },
  },
])
// result: { projectName: string, version: string, env: string, debug: boolean }
```

## Type Definitions

```typescript
interface PromptAPI {
  // Shorthand methods
  text(message: string, options?: TextOptions): Promise<string>
  number(message: string, options?: NumberOptions): Promise<number>
  password(message: string, options?: PasswordOptions): Promise<string>
  select<T>(message: string, choices: T[] | SelectChoice<T>[]): Promise<T>
  confirm(message: string, options?: ConfirmOptions): Promise<boolean>
  multiSelect<T>(message: string, choices: T[] | SelectChoice<T>[]): Promise<T[]>

  // Form mode (callable)
  (form: FormPage): Promise<FormResult>
  (steps: FormPage[], options?: StepFormOptions): Promise<MergedFormResult>
}

interface TextOptions {
  placeholder?: string
  defaultValue?: string
  validate?: (value: string) => boolean | string
  prefix?: string
  suffix?: string
  maxLength?: number
  minLength?: number
  pattern?: RegExp
  format?: 'lowercase' | 'uppercase' | 'trim' | 'kebab-case' | ((value: string) => string)
}

interface SelectChoice<T = string> {
  label: string
  value: T
  description?: string
}
```

## References

- [defineAction API](./define-action)
- [$ (shell) API](./shell.md)
- [Action Creation Tutorial](/guides/actions/creating)
